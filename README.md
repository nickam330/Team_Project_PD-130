# VK Dating Bot

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–±–æ—Ç–∞ –¥–ª—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ**, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–±–∏–±–ª–∏–æ—Ç–µ–∫ `vk_api`, `SQLAlchemy` –∏ `Flask`**.  
–ë–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ (—Ä–∞–Ω—å—à–µ) –≤—ã–ø–æ–ª–Ω—è–ª –ø–æ–∏—Å–∫ –∞–Ω–∫–µ—Ç –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.  

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í –Ω–∞—Å—Ç–æ—è—â–∏–π –º–æ–º–µ–Ω—Ç –±–æ—Ç **–Ω–µ –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**, —Ç–∞–∫ –∫–∞–∫ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –±–æ–ª—å—à–µ –Ω–µ –≤—ã–¥–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã —Å –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (`users.search`).  

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

project/
‚îÇ
‚îú‚îÄ‚îÄ create_table/
‚îÇ ‚îú‚îÄ‚îÄ base_information.py # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îÇ ‚îú‚îÄ‚îÄ create_session.py # –°–æ–∑–¥–∞–Ω–∏–µ engine –∏ Session
‚îÇ
‚îú‚îÄ‚îÄ table_function/
‚îÇ ‚îú‚îÄ‚îÄ give_information.py # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îú‚îÄ‚îÄ user_add_inf.py # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
‚îÇ
‚îú‚îÄ‚îÄ vk_token.py # –¢–æ–∫–µ–Ω –í–ö (–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ main_vk_bot.py # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ app.py # Flask-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–µ–π
‚îú‚îÄ‚îÄ keyboard.json # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –í–ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ keyboard_search.json
‚îú‚îÄ‚îÄ keyboard_start.json
‚îî‚îÄ‚îÄ README.md

yaml
Kodu kopyala

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### üîπ 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
–ë–æ—Ç —á–µ—Ä–µ–∑ `vk_api` –ø–æ–ª—É—á–∞–µ—Ç:
- –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—é  
- –î–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (–≤—ã—á–∏—Å–ª—è–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç)  
- –ü–æ–ª  
- –ì–æ—Ä–æ–¥  
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `Users` –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

### üîπ 2. –†–∞–±–æ—Ç–∞ —Å –ë–î

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **SQLAlchemy ORM**.  
–ì–ª–∞–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `Users` ‚Äî —Ö—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Ö –ø–æ–ª, –≤–æ–∑—Ä–∞—Å—Ç, –≥–æ—Ä–æ–¥ –∏ –∫–ª—é—á–∏.
- `Selected` ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- `UsersSelected` ‚Äî —Å–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü –≤ –ë–î:**

üì∏ _–í—Å—Ç–∞–≤—å —Å—é–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–≤–æ–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (ERD-–¥–∏–∞–≥—Ä–∞–º–º—É)_

> **–ü—Ä–∏–º–µ—Ä:**
> ![database diagram](./Screenshot%202025-10-09%20171701.png)

---

### üîπ 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∫–ª—é—á–∏

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (access –∏ refresh) –±—ã–ª —Å–æ–∑–¥–∞–Ω **–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ Flask**, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π –∫–ª—é—á–∏ –æ—Ç VK ID.  
–û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É `callback`-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  

```python
@app.route('/vk-redirect')
@app.route('/tap_one')
–û–¥–Ω–∞–∫–æ, –¥–∞–∂–µ —Å —ç—Ç–∏–º–∏ –∫–ª—é—á–∞–º–∏ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ users.search,
—Ç–∞–∫ –∫–∞–∫ —Ç–µ–ø–µ—Ä—å –≤—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ ‚Äúlowpoly‚Äù, –∏ —É —Ç–∞–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.
–ü–æ—ç—Ç–æ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö API —Å–µ–π—á–∞—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.

üîπ 4. –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ VkLongPoll:

–ü—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–∏ "–ü—Ä–∏–≤–µ—Ç" –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ ‚Äî "–î–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏–µ".

–ü–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∫ –ø–æ–∏—Å–∫—É.

–†–∞–Ω–µ–µ –±–æ—Ç –≤—ã–ø–æ–ª–Ω—è–ª –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–æ —Å–µ–π—á–∞—Å —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–æ—Ñ–∏–ª—è —Å —Ñ–æ—Ç–æ –∏ —Å—Å—ã–ª–∫–æ–π (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å).

üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
vk_api	–†–∞–±–æ—Ç–∞ —Å API –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
SQLAlchemy	ORM –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î
Flask	–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å VK ID
requests	HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ API
datetime	–†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞
cryptography.fernet	–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
random	–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö random_id –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–¢–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ (fernet.encrypt()).

–ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å access_token –∑–∞–ø—Ä–µ—â–µ–Ω–∞ ‚Äî –≤—Å—ë –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä Flask.

Flask-—Å–µ—Ä–≤–µ—Ä –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã.

üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

bash
Kodu kopyala
pip install -r requirements.txt
–í .env —É–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:

ini
Kodu kopyala
DATABASE_URL=—Ç–æ —á—Ç–æ –¥–∞–µ—Ç —Å–∞–π—Ç –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞—à–∞ –ë–î
DATABASE_URL_INTERNAL=–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤–Ω—É—Ç—Ä–∏ —Å–∞–π—Ç–∞
–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã:

python
Kodu kopyala
from create_table.create_session import Base, engine
Base.metadata.create_all(engine)
–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä Flask:

bash
Kodu kopyala
python app.py
–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:

bash
Kodu kopyala
python main_vk_bot.py
üë§ –ê–≤—Ç–æ—Ä
–°–µ—Ä–≥–µ–π –°–æ–ª–µ—Ü–∫–∏–π